"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const EventController_1 = require("../controllers/EventController");
const authMiddleware_1 = require("../middleware/authMiddleware");
const adminAuthMiddleware_1 = require("../middleware/adminAuthMiddleware");
const EventRegistrationController_1 = require("../controllers/EventRegistrationController");
const router = (0, express_1.Router)();
const eventController = new EventController_1.EventController();
const eventRegistrationController = new EventRegistrationController_1.EventRegistrationController();
router.get("/", eventController.getEvents);
router.post("/", adminAuthMiddleware_1.adminAuthenticated, eventController.createEvent);
router.put("/:id", adminAuthMiddleware_1.adminAuthenticated, eventController.updateEvent);
router.delete("/:id", adminAuthMiddleware_1.adminAuthenticated, eventController.deleteEvent);
router.post("/:id/register", authMiddleware_1.isAuthenticated, eventRegistrationController.registerForEvent);
router.get("/registrations", authMiddleware_1.isAuthenticated, eventRegistrationController.getAllEventRegistrations);
router.get("/admin/registrations", adminAuthMiddleware_1.adminAuthenticated, eventRegistrationController.getAllAdminEventRegistrations);
router.post("/:id/cancel", authMiddleware_1.isAuthenticated, eventRegistrationController.cancelRegistration);
exports.default = router;
